<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8">
        <title>sapphirecat - sapphirecat</title>
        <meta name="viewport" content="width=device-width">
        <link rel="stylesheet" href="https://sapphirecat.github.io/theme/css/reset.css">
        <link rel="stylesheet" href="https://sapphirecat.github.io/theme/css/main.css">

        <link href="https://sapphirecat.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="sapphirecat Atom Feed" />
</head>

<body id="index" class="home">
        <a href="#main" id="skipnav">Skip to main content</a>
        <header id="banner" class="body">
                <h1><a href="https://sapphirecat.github.io/">sapphirecat: <em>the user pages!</em></a></h1>
                <nav class="body-info"><ul>
                    <li><a href="https://sapphirecat.github.io/category/meta.html">Meta</a></li>
                    <li><a href="https://sapphirecat.github.io/category/projects.html">Projects</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="author-card" class="body">
    <div class="h-card body-info">
        <h1>Posts by <data class="p-nickname">sapphirecat</data></h1>
        <!-- TODO: image.  Draw and publish one, then link it -->
    </div>
</section>
        <main id="main">

            <section id="content" class="body h-feed">
                <ol id="posts-list" start="8">
        <li><article class="hentry h-entry">
            <header>
                <h1 class="p-name"><a href="https://sapphirecat.github.io/2015/356-cloud-maker-0-8-3-release/" rel="bookmark"
                       title="Permalink to cloud-maker 0.8.3: new config variable, accurate requirements">cloud-maker 0.8.3: new config variable, accurate requirements</a></h1>
            </header>

            <div class="entry-content">
            <div class="p-summary"><p>The 0.8.3 release adds an <tt class="docutils literal">INI_DIR</tt> variable that will be substituted
into values in the configuration file, allowing for paths to be
specified relative to the config file. It turned out that this was a
feature I wanted, to keep the bundled data somewhat more local than
requiring a fixed path under <tt class="docutils literal">HOME</tt>.</p>
<p>While testing this change, I discovered that the Python 3 line prior to
3.3.4 had a bug in the <tt class="docutils literal">tarfile</tt> module. When using the module exactly
as I am (with an externally-provided file object and gzip compression),
the tar data doesn’t get written into the gzip stream on disk.</p>
<p>That was reported as <a class="reference external" href="http://bugs.python.org/issue20238">issue 20238</a>
and fixed by the final releases of 3.3.4 and 3.4.0, while 2.7 has never
been affected.</p>
<p>Due to the widespread availability of 2.7 on systems that packaged
affected versions of Python, I decided the pragmatic path would be to
recommend Python 2 on those systems and raise the Python 3 version
requirement to 3.3.4. I haven’t isolated the fix by diffing Python
releases, nor do I know what I would need to patch over in order to work
around it.</p>
<p>This release is available as <a class="reference external" href="https://github.com/sapphirecat/cloud-maker/releases">source on
github</a>, and as
a wheel <a class="reference external" href="https://pypi.python.org/pypi/cloud-maker/0.8.3">on PyPI</a>.</p>
<p>Any and all bugs should be reported to the <a class="reference external" href="https://github.com/sapphirecat/cloud-maker/issues">issue
tracker</a> on
github.</p>
</div>
<footer class="post-info">
        <abbr class="published" title="2015-12-22T00:00:00-05:00">
                Published: <time class="dt-published" datetime="2015-12-22 00:00:00">2015-12-22</time>
        </abbr>

        <address class="h-card author">
                by                         <a class="u-url p-nickname" href="https://sapphirecat.github.io/author/sapphirecat.html">sapphirecat</a>
        </address>
in <a class="p-category" href="https://sapphirecat.github.io/category/projects.html">Projects</a>&nbsp;
[<a class="u-url" href="https://sapphirecat.github.io/2015/356-cloud-maker-0-8-3-release/" rel="bookmark" title="Permalink to cloud-maker 0.8.3: new config variable, accurate requirements">permalink</a>]

</footer><!-- /.post-info -->            </div><!-- /.entry-content -->
        </article></li>

        <li><article class="hentry h-entry">
            <header>
                <h1 class="p-name"><a href="https://sapphirecat.github.io/2015/317-cloud-maker-0-8-2-release/" rel="bookmark"
                       title="Permalink to cloud-maker 0.8.2: PyPI publication">cloud-maker 0.8.2: PyPI publication</a></h1>
            </header>

            <div class="entry-content">
            <div class="p-summary"><p>The 0.8.2 release adds a <tt class="docutils literal">setup.py</tt> and associated machinery, meaning
that cloud-maker is now <a class="reference external" href="https://pypi.python.org/pypi/cloud-maker">on
PyPI</a>.</p>
<p>Any and all bugs should be reported to the issue tracker on
<a class="reference external" href="https://github.com/sapphirecat/cloud-maker/issues">github</a>.</p>
</div>
<footer class="post-info">
        <abbr class="published" title="2015-11-13T00:00:00-05:00">
                Published: <time class="dt-published" datetime="2015-11-13 00:00:00">2015-11-13</time>
        </abbr>

        <address class="h-card author">
                by                         <a class="u-url p-nickname" href="https://sapphirecat.github.io/author/sapphirecat.html">sapphirecat</a>
        </address>
in <a class="p-category" href="https://sapphirecat.github.io/category/projects.html">Projects</a>&nbsp;
[<a class="u-url" href="https://sapphirecat.github.io/2015/317-cloud-maker-0-8-2-release/" rel="bookmark" title="Permalink to cloud-maker 0.8.2: PyPI publication">permalink</a>]

</footer><!-- /.post-info -->            </div><!-- /.entry-content -->
        </article></li>

        <li><article class="hentry h-entry">
            <header>
                <h1 class="p-name"><a href="https://sapphirecat.github.io/2015/312-cloud-maker-0-8-1-release/" rel="bookmark"
                       title="Permalink to cloud-maker 0.8.1: Python 2.7 support">cloud-maker 0.8.1: Python 2.7 support</a></h1>
            </header>

            <div class="entry-content">
            <div class="p-summary"><p>The 0.8.1 release adds official support for Python 2.7 to cloud-maker,
enabling it to run on the system python installed with OS X. Reports on
the Internet suggest that this covers at least as far back as Lion,
forward through El Capitan. (I can’t find an extensive history, but Lion
released a year after 2.7.0, which in turn came after Snow Leopard.)</p>
<p>This change should also make it more readily available to Linux users,
as python 2 is typically installed as the default <tt class="docutils literal">/usr/bin/python</tt>
executable.</p>
<p>If there are any issues with this release, please send them to
<a class="reference external" href="https://github.com/sapphirecat/cloud-maker/issues">github</a>.</p>
<p>In other news, ‘v0.8.0’ and ‘v0.8.1’ tags have been added to the
repository.</p>
</div>
<footer class="post-info">
        <abbr class="published" title="2015-11-08T00:00:00-05:00">
                Published: <time class="dt-published" datetime="2015-11-08 00:00:00">2015-11-08</time>
        </abbr>

        <address class="h-card author">
                by                         <a class="u-url p-nickname" href="https://sapphirecat.github.io/author/sapphirecat.html">sapphirecat</a>
        </address>
in <a class="p-category" href="https://sapphirecat.github.io/category/projects.html">Projects</a>&nbsp;
[<a class="u-url" href="https://sapphirecat.github.io/2015/312-cloud-maker-0-8-1-release/" rel="bookmark" title="Permalink to cloud-maker 0.8.1: Python 2.7 support">permalink</a>]

</footer><!-- /.post-info -->            </div><!-- /.entry-content -->
        </article></li>

        <li><article class="hentry h-entry">
            <header>
                <h1 class="p-name"><a href="https://sapphirecat.github.io/2015/295-cloud-maker-0-8-0-release/" rel="bookmark"
                       title="Permalink to cloud-maker 0.8.0">cloud-maker 0.8.0</a></h1>
            </header>

            <div class="entry-content">
            <div class="p-summary"><p>I didn’t actually test the OVA export I got from <tt class="docutils literal">fedora2ova</tt>, but
<tt class="docutils literal"><span class="pre">cloud-maker</span></tt> has been pushed to my <a class="reference external" href="https://github.com/sapphirecat/cloud-maker">cloud-maker
repo</a>. Happy Wily
Werewolf Release Day!</p>
<p>The repo is currently designed to run in-place with either of these
forms:</p>
<pre class="literal-block">
python -m make_provisioner --help
python . provision --help
</pre>
<p>I’d like to add a <tt class="docutils literal">setup.py</tt> so it can be published to PyPI and
abandoned, but that’s not ready yet.</p>
</div>
<footer class="post-info">
        <abbr class="published" title="2015-10-22T00:00:00-04:00">
                Published: <time class="dt-published" datetime="2015-10-22 00:00:00">2015-10-22</time>
        </abbr>

        <address class="h-card author">
                by                         <a class="u-url p-nickname" href="https://sapphirecat.github.io/author/sapphirecat.html">sapphirecat</a>
        </address>
in <a class="p-category" href="https://sapphirecat.github.io/category/projects.html">Projects</a>&nbsp;
[<a class="u-url" href="https://sapphirecat.github.io/2015/295-cloud-maker-0-8-0-release/" rel="bookmark" title="Permalink to cloud-maker 0.8.0">permalink</a>]

</footer><!-- /.post-info -->            </div><!-- /.entry-content -->
        </article></li>

        <li><article class="hentry h-entry">
            <header>
                <h1 class="p-name"><a href="https://sapphirecat.github.io/2015/265-cloud-maker-replacing-fedora-pack/" rel="bookmark"
                       title="Permalink to fedora-pack to be superseded by cloud-maker">fedora-pack to be superseded by cloud-maker</a></h1>
            </header>

            <div class="entry-content">
            <div class="p-summary"><p>When we <a class="reference external" href="https://sapphirecat.github.io/2015/013-fedora-pack-config/">last left
off</a>, I had sketched
out a config file for fedora-pack, then neglected it when I finally
accepted that <a class="reference external" href="https://www.decodednode.com/2015/02/perl-is-dying.html">Perl is
dying</a>.</p>
<p>Seven months later, fedora-pack is undergoing a rewrite to Python. It’s
equally widespread (or easy to install) and includes a ton of batteries.
I’ve always liked that.</p>
<p>But that’s only half the change. I’ve been trying to simplify and
streamline the code, to make it <em>more straightforward</em> even at the
expense of some flexibility and testability—there are, after all, no
tests, no extensions, and no users. As far as I know.</p>
<p>That’s resulted in a rather different codebase, because of two
realizations:</p>
<ol class="arabic simple">
<li>At work, I don’t use the multi-version capability. What if
<tt class="docutils literal">make_provisioner</tt> just installs the platform’s <em>default</em> version?
It would have to know a lot less about distros and versions.</li>
<li>At work, our bundled scripts install our own necessary packages (such
as git) in addition to the core languages. What if
<tt class="docutils literal">make_provisioner</tt> doesn’t bother offering <em>package
preinstallation?</em> On the one side of the process is <tt class="docutils literal"><span class="pre">cloud-init</span></tt>,
if preinstallation is important. On the other, the runner script can
install its own choice of language packages. Now <tt class="docutils literal">make_provisioner</tt>
doesn’t even have to care about distros (or features or packages)
<strong>at all</strong>, as long as it can have a distro-agnostic SFX stub.</li>
</ol>
<p>Things seem to be going well so far; expect a code dump on github by
November. I want to use cloud-maker for work’s AMI builder, instead of a
hacked fedora-pack fork, and the Ubuntu 15.10 release will be a good
time to change that.</p>
</div>
<footer class="post-info">
        <abbr class="published" title="2015-09-22T00:00:00-04:00">
                Published: <time class="dt-published" datetime="2015-09-22 00:00:00">2015-09-22</time>
        </abbr>

        <address class="h-card author">
                by                         <a class="u-url p-nickname" href="https://sapphirecat.github.io/author/sapphirecat.html">sapphirecat</a>
        </address>
in <a class="p-category" href="https://sapphirecat.github.io/category/projects.html">Projects</a>&nbsp;
[<a class="u-url" href="https://sapphirecat.github.io/2015/265-cloud-maker-replacing-fedora-pack/" rel="bookmark" title="Permalink to fedora-pack to be superseded by cloud-maker">permalink</a>]

</footer><!-- /.post-info -->            </div><!-- /.entry-content -->
        </article></li>

        <li><article class="hentry h-entry">
            <header>
                <h1 class="p-name"><a href="https://sapphirecat.github.io/2015/013-fedora-pack-config/" rel="bookmark"
                       title="Permalink to fedora-pack Configuration File Update">fedora-pack Configuration File Update</a></h1>
            </header>

            <div class="entry-content">
            <div class="p-summary"><p>I mentioned <a class="reference external" href="https://sapphirecat.github.io/2014/355-more-fedora-pack-options/">last
post</a> that I
was thinking of going with “a config file of some sort.” Plans have
formed to use INI format, and the parser is written. (Between the
desires to be pure-perl all the way down and to keep embed size down, I
didn’t find any pre-written parsers that suited me on CPAN.)</p>
<p>So, it’s probably going to end up something like this:</p>
<pre class="literal-block">
; we basically just use this for supervisord, no venv needed
[python2]
min_version = 2.7
with_virtualenv = 0

; legacy app can’t handle `carton exec`
[perl]
with_carton = 0

[php]
min_version=5.4

[main]
install = &quot;php perl python2&quot; ; known to fedora-pack
add_packages = &quot;php5-fpm libmoose-perl&quot; ; known to apt/yum
</pre>
<p>As a bonus, the sections organize the options so that languages can
define their own options <em>fully independently,</em> without having to avoid
naming conflicts in the CLI options.</p>
<p>fedora-pack will continue to install all the per-language options by
default, since actually using them is best practice, as I understand
things.</p>
</div>
<footer class="post-info">
        <abbr class="published" title="2015-01-13T00:00:00-05:00">
                Published: <time class="dt-published" datetime="2015-01-13 00:00:00">2015-01-13</time>
        </abbr>

        <address class="h-card author">
                by                         <a class="u-url p-nickname" href="https://sapphirecat.github.io/author/sapphirecat.html">sapphirecat</a>
        </address>
in <a class="p-category" href="https://sapphirecat.github.io/category/projects.html">Projects</a>&nbsp;
[<a class="u-url" href="https://sapphirecat.github.io/2015/013-fedora-pack-config/" rel="bookmark" title="Permalink to fedora-pack Configuration File Update">permalink</a>]

</footer><!-- /.post-info -->            </div><!-- /.entry-content -->
        </article></li>

        <li><article class="hentry h-entry">
            <header>
                <h1 class="p-name"><a href="https://sapphirecat.github.io/2014/355-more-fedora-pack-options/" rel="bookmark"
                       title="Permalink to More fedora-pack Options">More fedora-pack Options</a></h1>
            </header>

            <div class="entry-content">
            <div class="p-summary"><p>I’ve noticed that <tt class="docutils literal"><span class="pre">python-pip</span></tt> and <tt class="docutils literal">virtualenv</tt> packages on Ubuntu
Utopic have similar dependencies—but the latter is on <tt class="docutils literal"><span class="pre">*-whl</span></tt> packages
and the former is not. Since I use Python but <em>not</em> virtualenv in my own
server build, it ‘would be nice’ to skip the automatic installation of
it by fedora-pack.</p>
<p>Of course, in order to support such a thing, fedora-pack clearly needs
more options for finer control. Yet, it seems like the global option
parser isn’t the perfect place for language-related options, so the
<tt class="docutils literal"><span class="pre">App::FedoraPack::System</span></tt> class tree may spawn some additional
argument-related functions.</p>
<p>I may finally go with a config file of some sort. The command line <em>is</em>
getting unwieldy already.</p>
</div>
<footer class="post-info">
        <abbr class="published" title="2014-12-21T00:00:00-05:00">
                Published: <time class="dt-published" datetime="2014-12-21 00:00:00">2014-12-21</time>
        </abbr>

        <address class="h-card author">
                by                         <a class="u-url p-nickname" href="https://sapphirecat.github.io/author/sapphirecat.html">sapphirecat</a>
        </address>
in <a class="p-category" href="https://sapphirecat.github.io/category/projects.html">Projects</a>&nbsp;
[<a class="u-url" href="https://sapphirecat.github.io/2014/355-more-fedora-pack-options/" rel="bookmark" title="Permalink to More fedora-pack Options">permalink</a>]

</footer><!-- /.post-info -->            </div><!-- /.entry-content -->
        </article></li>

        <li><article class="hentry h-entry">
            <header>
                <h1 class="p-name"><a href="https://sapphirecat.github.io/2014/353-user-pages-finally/" rel="bookmark"
                       title="Permalink to User Pages… Finally">User Pages… Finally</a></h1>
            </header>

            <div class="entry-content">
            <div class="p-summary"><p>I didn’t really have a place to pre-announce changes to my repos, so I
made one.</p>
<p>This spawned a small adventure through
<a class="reference external" href="https://www.staticgen.com/">staticgen</a> in order to find a static
site generator. I really wanted it to run on Win64, because I have to
fire up a VM to update
<a class="reference external" href="https://www.sapphirepaw.org/propaganda">propaganda</a> since it was
built for a POSIX world. For style points, I went for ones written in
languages I already have installed.</p>
<p>So after trying <a class="reference external" href="http://gohugo.io/">Hugo</a>,
<a class="reference external" href="https://sculpin.io/">Sculpin</a>, <a class="reference external" href="http://phrozn.info/">Phrozn</a>, and
<a class="reference external" href="http://getpelican.com/">Pelican</a>, the last one happened to be a
winner.</p>
<p>I’m kind of sad Hugo didn’t work out, since it seems fast and nicely
built, but I couldn’t get it to understand about generating pages with
<em>relative</em> URLs so that I could preview them with the theme applying
properly.</p>
<p>One of the PHP frameworks wasn’t PHAR-aware, and tried to use
<tt class="docutils literal">DIRECTORY_SEPARATOR</tt> to build the path of an XML file to load… but
that creates an invalid URL when <tt class="docutils literal">DIRECTORY_SEPARATOR</tt> isn’t ‘/’.</p>
<p>Pelican has its warts, to be sure (there’s no real themes gallery, just
a <a class="reference external" href="https://github.com/getpelican/pelican-themes">bunch of githubs</a>
with screenshots of varying quality) but it’s working and I can work
with it. And I’m not locked into keeping all my pages on github because
Octopress is secretly managing the repository for me; I wrote my own
publish script. Although magic is <em>convenient,</em> it turns out that I
always want to understand the next layer down. Even if it’s just a small
bit of knowledge I never use, it’s comforting to know I wouldn’t be
hopelessly adrift if GitHub Pages closed down.</p>
<p>Anyway, look for future updates about my repositories here on
<a class="reference external" href="https://sapphirecat.github.io/">sapphirecat.github.io</a>. I want to
get away from the “randomly dump breaking changes on an unsuspecting
world” model of development.</p>
</div>
<footer class="post-info">
        <abbr class="published" title="2014-12-19T00:00:00-05:00">
                Published: <time class="dt-published" datetime="2014-12-19 00:00:00">2014-12-19</time>
        </abbr>

        <address class="h-card author">
                by                         <a class="u-url p-nickname" href="https://sapphirecat.github.io/author/sapphirecat.html">sapphirecat</a>
        </address>
in <a class="p-category" href="https://sapphirecat.github.io/category/meta.html">Meta</a>&nbsp;
[<a class="u-url" href="https://sapphirecat.github.io/2014/353-user-pages-finally/" rel="bookmark" title="Permalink to User Pages… Finally">permalink</a>]

</footer><!-- /.post-info -->            </div><!-- /.entry-content -->
        </article></li>
            </ol><!-- /#posts-list -->
<nav class="pagination">
  <ul>
        <li><a href="https://sapphirecat.github.io/author/sapphirecat.html">&Lang;</a></li>
        <li><a href="https://sapphirecat.github.io/author/sapphirecat2.html" rel="prev">&lang;</a></li>
    <li>Page 3 / 3</li>
  </ul>
</nav>
            </section><!-- /#content -->
        </main>
        <section id="extras" class="body">
                <div class="social">
                        <h2>sapphirecat's...</h2>
                        <ul><li><a href="https://sapphirecat.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li><li><a href="https://github.com/sapphirecat">github</a></li><li><a href="https://www.decodednode.com/">tech blog</a></li><li><a href="https://www.sapphirepaw.org/">ye olde www</a></li></ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="body-info">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, <a href="https://python.org">Python</a>, and
                a theme originally from <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->

</body>
</html>