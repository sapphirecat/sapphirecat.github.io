<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8">
        <title>sapphirecat: the user pages - Projects</title>
        <link rel="stylesheet" href="https://sapphirecat.github.io/theme/css/reset.css">
        <link rel="stylesheet" href="https://sapphirecat.github.io/theme/css/main.css">
        <link rel="stylesheet" href="https://sapphirecat.github.io/theme/css/pygment.css">
        <link rel="stylesheet" href="https://sapphirecat.github.io/theme/css/typogrify.css">
        <link href="//fonts.googleapis.com/css?family=Overlock:700" rel="stylesheet" type="text/css">

        <link href="https://sapphirecat.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="sapphirecat: the user pages Atom Feed" />

        <!--[if IE le 9]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://sapphirecat.github.io/">sapphirecat: the user pages </a></h1>
                <nav><ul>
                    <li><a href="https://sapphirecat.github.io/category/meta.html">Meta</a></li>
                    <li class="active"><a href="https://sapphirecat.github.io/category/projects.html">Projects</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <section id="content" class="body">
                <ol id="posts-list" class="hfeed" start="8">
        <li><article class="hentry">
            <header>
                <h1><a href="https://sapphirecat.github.io/2015/312-cloud-maker-0-8-1-release/" rel="bookmark"
                       title="Permalink to cloud-maker 0.8.1: Python 2.7 support">cloud-maker 0.8.1: Python 2.7 support</a></h1>
            </header>

            <div class="entry-content">
            <p>The 0.8.1 release adds official support for Python 2.7 to cloud-maker,
enabling it to run on the system python installed with OS X.  Reports on the
Internet suggest that this covers at least as far back as Lion, forward
through El Capitan.  (I can’t find an extensive history, but Lion released a
year after 2.7.0, which in turn came after Snow Leopard.)</p>
<p>This change should also make it more readily available to Linux users, as
python 2 is typically installed as the default <code>/usr/bin/python</code> executable.</p>
<p>If there are any issues with this release, please send them to
<a href="https://github.com/sapphirecat/cloud-maker/issues">github</a>.</p>
<p>In other news, ‘v0.8.0’ and ‘v0.8.1’ tags have been added to the repository.</p>
<footer class="post-info">
        <abbr class="published" title="2015-11-08T00:00:00-05:00">
                Published: 2015-11-08
        </abbr>

        <address class="vcard author">
                by                         <a class="url fn" href="https://sapphirecat.github.io/author/sapphirecat.html">sapphirecat</a>
        </address>
in <a href="https://sapphirecat.github.io/category/projects.html">Projects</a>&nbsp;
[<a href="https://sapphirecat.github.io/2015/312-cloud-maker-0-8-1-release/" rel="bookmark" title="Permalink to cloud-maker 0.8.1: Python 2.7 support">permalink</a>]

</footer><!-- /.post-info -->            </div><!-- /.entry-content -->
        </article></li>

        <li><article class="hentry">
            <header>
                <h1><a href="https://sapphirecat.github.io/2015/295-cloud-maker-0-8-0-release/" rel="bookmark"
                       title="Permalink to cloud-maker 0.8.0">cloud-maker 0.8.0</a></h1>
            </header>

            <div class="entry-content">
            <p>I didn’t actually test the OVA export I got from <code>fedora2ova</code>, but
<code>cloud-maker</code> has been pushed to my
<a href="https://github.com/sapphirecat/cloud-maker">cloud-maker repo</a>.  Happy Wily
Werewolf Release Day!</p>
<p>The repo is currently designed to run in-place with either of these forms:</p>
<div class="highlight"><pre>python -m make_provisioner --help
python . provision --help
</pre></div>


<p>I’d like to add a <code>setup.py</code> so it can be published to PyPI <strike>and
abandoned,</strike> but that’s not ready yet.</p>
<footer class="post-info">
        <abbr class="published" title="2015-10-22T00:00:00-04:00">
                Published: 2015-10-22
        </abbr>

        <address class="vcard author">
                by                         <a class="url fn" href="https://sapphirecat.github.io/author/sapphirecat.html">sapphirecat</a>
        </address>
in <a href="https://sapphirecat.github.io/category/projects.html">Projects</a>&nbsp;
[<a href="https://sapphirecat.github.io/2015/295-cloud-maker-0-8-0-release/" rel="bookmark" title="Permalink to cloud-maker 0.8.0">permalink</a>]

</footer><!-- /.post-info -->            </div><!-- /.entry-content -->
        </article></li>

        <li><article class="hentry">
            <header>
                <h1><a href="https://sapphirecat.github.io/2015/265-cloud-maker-replacing-fedora-pack/" rel="bookmark"
                       title="Permalink to fedora-pack to be superseded by cloud-maker">fedora-pack to be superseded by cloud-maker</a></h1>
            </header>

            <div class="entry-content">
            <p>When we <a href="https://sapphirecat.github.io/2015/013-fedora-pack-config/">last left off</a>, I had
sketched out a config file for fedora-pack, then neglected it when I finally
accepted that <a href="http://sapphirepaw.blogspot.com/2015/02/perl-is-dying.html">Perl is dying</a>.</p>
<p>Seven months later, fedora-pack is undergoing a rewrite to Python.  It’s
equally widespread (or easy to install) and includes a ton of batteries.  I’ve
always liked that.</p>
<p>But that’s only half the change.  I’ve been trying to simplify and streamline
the code, to make it <em>more straightforward</em> even at the expense of some
flexibility and testability—there are, after all, no tests, no extensions,
and no users.  As far as I know.</p>
<p>That’s resulted in a rather different codebase, because of two realizations:</p>
<ol>
<li>At work, I don’t use the multi-version capability.  What if
   <code>make_provisioner</code> just installs the platform’s <em>default</em> version?  It
   would have to know a lot less about distros and versions.</li>
<li>At work, our bundled scripts install our own necessary packages (such as
   git) in addition to the core languages.  What if <code>make_provisioner</code> doesn’t
   bother offering <em>package preinstallation?</em>  On the one side of the process
   is <code>cloud-init</code>, if preinstallation is important.  On the other, the runner
   script can install its own choice of language packages.  Now
   <code>make_provisioner</code> doesn’t even have to care about distros (or features or
   packages) <strong>at all</strong>, as long as it can have a distro-agnostic SFX stub.</li>
</ol>
<p>Things seem to be going well so far; expect a code dump on github by November.
I want to use cloud-maker for work’s AMI builder, instead of a hacked
fedora-pack fork, and the Ubuntu 15.10 release will be a good time to change
that.</p>
<footer class="post-info">
        <abbr class="published" title="2015-09-22T00:00:00-04:00">
                Published: 2015-09-22
        </abbr>

        <address class="vcard author">
                by                         <a class="url fn" href="https://sapphirecat.github.io/author/sapphirecat.html">sapphirecat</a>
        </address>
in <a href="https://sapphirecat.github.io/category/projects.html">Projects</a>&nbsp;
[<a href="https://sapphirecat.github.io/2015/265-cloud-maker-replacing-fedora-pack/" rel="bookmark" title="Permalink to fedora-pack to be superseded by cloud-maker">permalink</a>]

</footer><!-- /.post-info -->            </div><!-- /.entry-content -->
        </article></li>

        <li><article class="hentry">
            <header>
                <h1><a href="https://sapphirecat.github.io/2015/013-fedora-pack-config/" rel="bookmark"
                       title="Permalink to fedora-pack Configuration File Update">fedora-pack Configuration File Update</a></h1>
            </header>

            <div class="entry-content">
            <p>I mentioned <a href="https://sapphirecat.github.io/2014/355-more-fedora-pack-options/">last post</a> that
I was thinking of going with “a config file of some sort.”  Plans have
formed to use INI format, and the parser is written.  (Between the desires to
be pure-perl all the way down and to keep embed size down, I didn’t find any
pre-written parsers that suited me on CPAN.)</p>
<p>So, it’s probably going to end up something like this:</p>
<div class="highlight"><pre>; we basically just use this for supervisord, no venv needed
[python2]
min_version = 2.7
with_virtualenv = 0

; legacy app can’t handle `carton exec`
[perl]
with_carton = 0

[php]
min_version=5.4

[main]
install = &quot;php perl python2&quot; ; known to fedora-pack
add_packages = &quot;php5-fpm libmoose-perl&quot; ; known to apt/yum
</pre></div>


<p>As a bonus, the sections organize the options so that languages can define
their own options <em>fully independently,</em> without having to avoid naming
conflicts in the CLI options.</p>
<p>fedora-pack will continue to install all the per-language options by default,
since actually using them is best practice, as I understand things.</p>
<footer class="post-info">
        <abbr class="published" title="2015-01-13T00:00:00-05:00">
                Published: 2015-01-13
        </abbr>

        <address class="vcard author">
                by                         <a class="url fn" href="https://sapphirecat.github.io/author/sapphirecat.html">sapphirecat</a>
        </address>
in <a href="https://sapphirecat.github.io/category/projects.html">Projects</a>&nbsp;
[<a href="https://sapphirecat.github.io/2015/013-fedora-pack-config/" rel="bookmark" title="Permalink to fedora-pack Configuration File Update">permalink</a>]

</footer><!-- /.post-info -->            </div><!-- /.entry-content -->
        </article></li>

        <li><article class="hentry">
            <header>
                <h1><a href="https://sapphirecat.github.io/2014/355-more-fedora-pack-options/" rel="bookmark"
                       title="Permalink to More fedora-pack Options">More fedora-pack Options</a></h1>
            </header>

            <div class="entry-content">
            <p>I’ve noticed that <code>python-pip</code> and <code>virtualenv</code> packages on Ubuntu Utopic have
similar dependencies—but the latter is on <code>*-whl</code> packages and the former is
not.  Since I use Python but <em>not</em> virtualenv in my own server build, it
‘would be nice’ to skip the automatic installation of it by fedora-pack.</p>
<p>Of course, in order to support such a thing, fedora-pack clearly needs more
options for finer control.  Yet, it seems like the global option parser isn’t
the perfect place for language-related options, so the
<code>App::FedoraPack::System</code> class tree may spawn some additional
argument-related functions.</p>
<p>I may finally go with a config file of some sort.  The command line <em>is</em>
getting unwieldy already.</p>
<footer class="post-info">
        <abbr class="published" title="2014-12-21T00:00:00-05:00">
                Published: 2014-12-21
        </abbr>

        <address class="vcard author">
                by                         <a class="url fn" href="https://sapphirecat.github.io/author/sapphirecat.html">sapphirecat</a>
        </address>
in <a href="https://sapphirecat.github.io/category/projects.html">Projects</a>&nbsp;
[<a href="https://sapphirecat.github.io/2014/355-more-fedora-pack-options/" rel="bookmark" title="Permalink to More fedora-pack Options">permalink</a>]

</footer><!-- /.post-info -->            </div><!-- /.entry-content -->
        </article></li>
            </ol><!-- /#posts-list -->
<p class="paginator">
    Page 1 / 1
</p>
            </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>sapphirecat on...</h2>
                        <ul>
                            <li><a href="https://github.com/sapphirecat">github</a></li>
                            <li><a href="http://sapphirepaw.blogspot.com/">blogger</a></li>
                            <li><a href="https://www.sapphirepaw.org/">ye olde www</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://sapphirecat.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.&nbsp;
                Based on a theme from <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->

</body>
</html>